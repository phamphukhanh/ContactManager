<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.com">
    <head>
        <!-- Required meta tags -->
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

        <!-- Bootstrap CSS -->
        <link rel="stylesheet" href="css/style.css">

        <title>Add a new contact</title>
    </head>

    <body>
        <!-- Navbar -->
        <nav style="background-color: #01d28e;" class="navbar navbar-expand-lg navbar-dark">
            <a class="navbar-brand" href="#">Contact Manager</a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
                    aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>

            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav mr-auto">
                    <li class="nav-item active"><a class="nav-link" href="contacts">Home
                            <span class="sr-only">(current)</span>
                        </a></li>
                    <li class="nav-item active"><a class="nav-link" href="#">Add new</a></li>

                </ul>
            </div>
        </nav>
        <!-- Navbar -->

        <div class="container">
            <div class="row">
                <div class="col-md-6 offset-md-3">
                    <div class="card">
                        <div class="card-body">
                            <h4 class="text-center">Add a new contact</h4>

                            <form th:action="@{/add}" method="post">

                                <div class="form-group">
                                    <label>Name</label>
                                    <input type="text" class="form-control" name="name">
                                </div>

                                <div class="form-group">
                                    <label>Phone number</label>
                                    <input id="phone-number" class="form-control" type="number" pattern="/^?\d+\.?\d*$/-" onKeyPress="restrictInputLength(event)" name="phoneNumber" required>
                                </div>

                                <div class="form-group">
                                    <label>Email</label>
                                    <input type="email" class="form-control" name="email">
                                </div>


                                <div class="form-group">
                                    <label>Company</label>
                                    <input type="text" class="form-control" name="company">
                                </div>


                                <div class="form-group">
                                    <label>Website</label>
                                    <input type="text" class="form-control" name="website">
                                </div>

                                <div class="form-group">
                                    <label>Description</label>
                                    <textarea class="form-control" rows="4" cols="50" name="description" ></textarea>
                                </div>
                                <button class="btn btn-primary btn-block">Submit</button>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <script>
            const inputField = document.getElementById("phone-number");
            inputField.addEventListener("keydown", event => {
                if (event.key === "-" || 
                    event.key === "," || 
                    event.key === "." || 
                    event.key === "e" || 
                    event.key === "E") {
                    event.preventDefault();
                }
            });
            
            function restrictInputLength(event) {
            if (event.target.value.length === 15) {
                event.preventDefault();
                return false;
            }
        }
        </script>
    </body>

</html>